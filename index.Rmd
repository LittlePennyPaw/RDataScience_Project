---
title: "I have the best titles"
author: Yujia Pan
subtitle: Explore the scientific collaborations at UB
---

# Introduction {.tabset}
> At UB, professors are awesome and they get a LOT of grants every year!
> But.. How do they collborate and who write proposals together?

* **Problem Statement:**   
Today Scientific collaboration is already common within and among a large number of disciplines. One of the most widely discussed forms of scientific collaborations using social network analysis is co-authorship. Besides co-authorship, co-investigation that happens when investigators work on and submit a proposal together, is another form of scientific collaboration. Its importance is no less than the widely studied co-authorship. However, unlike co-authorship, little is studied about co-investigation relationships because information about proposal submission is not commonly available.  

* **Study Objectives:**
1. Reveal the topological structures of investigator networks at UB between fiscal year 2011 and 2015.
2. Investigate the temporal characteristics of these networks and how they envolve over time.

* **Significance: **
1. A better understanding of scientific collaborations. 
2. Promote proposal writing at UB.

# Materials and Methods {.tabset .tabset-fade}
##Data
Data used in this project was acquired from UB Sponsored Projects Services (SPS) with the help of my advisor, Dr. Ling Bian. A total of 7,714 proposals submitted from UB between the fiscal year 2011 and 2015 involving 1,446 investigators are included in a series of spreadsheets. 
```{r, message=F, warning=F,tidy=TRUE}
library(RCurl)
library(knitr)
```
```{r, tidy=TRUE, results = "asis"}
dept <- getURL('https://raw.githubusercontent.com/LittlePennyPaw/Data/master/Data_Dept.csv', ssl.verifyhost=FALSE, ssl.verifypeer=FALSE)
dept_frame <- read.csv(textConnection(dept), header=T)
knitr::kable(head(dept_frame), caption = "Example of Department Table") 
corp <- getURL('https://raw.githubusercontent.com/LittlePennyPaw/Data/master/Data_Corp.csv', ssl.verifyhost=FALSE, ssl.verifypeer=FALSE)
corp_frame <- read.csv(textConnection(corp), header=T)
knitr::kable(head(corp_frame), caption = "Example of Corporate Proposal Table")

single <- getURL('https://raw.githubusercontent.com/LittlePennyPaw/Data/master/Data_SIngle.csv', ssl.verifyhost=FALSE, ssl.verifypeer=FALSE)
single_frame <- read.csv(textConnection(single), header=T)
knitr::kable(head(single_frame), caption = "Example of Single Proposal Table") 

```

##Methodology
Narrative and most code will go here.  Describe what you are doing and show how to do it (with code).

You can do bullets like this:

* The first most important thing
* The second most important thing
* The third most important thing

You can do numbers like this:

1. The first most important thing
2. The second most important thing
3. The third most important thing

See [http://rmarkdown.rstudio.com/](http://rmarkdown.rstudio.com/) for all the amazing things you can do.


Here's my first code chunk.
```{r}
1+2+3
```

Load any required packages in a code chunk (you may need to install some packages):

```{r, message=F, warning=F}
library(dplyr)
library(ggplot2)
library(maps)
library(spocc)
knitr::opts_chunk$set(cache=TRUE)  # cache the results for quick compiling
```


We are going to use the `occ()` function to download _occurrence_ records for the American robin (_Turdus migratorius_) from the [Global Biodiversity Information Facility](gbif.org).

<img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/Turdus-migratorius-002.jpg" alt="alt text" width="200">
<small><small><small>Licensed under CC BY-SA 3.0 via [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Turdus-migratorius-002.jpg#/media/File:Turdus-migratorius-002.jpg)</small></small></small>

```{r, warning=F} 
## define which species to query
sp='Turdus migratorius'

## run the query and convert to data.frame()
d = occ(query=sp, from='ebird',limit = 100) %>% occ2df()
```
This can take a few seconds.

```{r, fig.width=6, fig.height=3, fig.cap="Map illustrating the known occurrence locations"}
# Load coastline
map=map_data("world")

ggplot(d,aes(x=longitude,y=latitude))+
  geom_polygon(aes(x=long,y=lat,group=group),data=map)+
  geom_point(col="red")+
  coord_equal()
```


# Results

Show tables, plots, etc. and describe them.

# Conclusions

What have you learned?  Are there any broader implications?

# References

